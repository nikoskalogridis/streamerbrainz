inputs:
  - path: /dev/input/by-id/usb-FLIRC.tv_flirc-event-kbd
    type: key # key | rotary

camilladsp:
  ws_url: ws://127.0.0.1:1234
  timeout_ms: 500
  min_db: -65.0
  max_db: 0.0
  update_hz: 30

# Used by type: rotary devices (EV_REL)
rotary:
  db_per_step: 0.5
  velocity_window_ms: 200
  velocity_multiplier: 2.0
  velocity_threshold: 3

# Used by key devices (EV_KEY) for press/hold velocity
velocity:
  mode: accelerating # accelerating | constant
  max_db_per_sec: 15.0
  accel_time_sec: 2.0
  decay_tau_sec: 0.2
  turbo_mult: 2.0
  turbo_delay_sec: 0.5
  hold_timeout_ms: 600
  danger_zone_db: 12.0
  danger_vel_max_db_per_sec: 3.0
  danger_vel_min_near0_db_per_sec: 0.3

ipc:
  socket_path: /tmp/streamerbrainz.sock

webhooks:
  port: 3001

# State WebSocket endpoint (served on the same HTTP server/port as webhooks)
# Buffer sizing:
# - send_buf: per-client outbound queue; slow clients are disconnected if this fills.
# - broadcast_buf: hub inbound queue for frames awaiting fanout.
websocket:
  send_buf: 32
  broadcast_buf: 128

plex:
  enabled: false
  server_url: http://plex.home.arpa:32400
  token_file: ~/.config/streamerbrainz/plex-token
  machine_id: YOUR_MACHINE_IDENTIFIER

logging:
  level: info # error | warn | info | debug
